<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Trader Route â€“ Create Request</title>
  <meta name="description" content="Create a free trade request on Trader Route and connect with importers and exporters worldwide.">
  <link rel="icon" href="assets/logos.png" />
  <style>
    body{font-family:Inter,Segoe UI,Tahoma,Geneva,Verdana,sans-serif;margin:0;background:#f6f8fa;}
    header{display:flex;align-items:center;justify-content:space-between;background:#fff;padding:10px 40px;
           box-shadow:0 2px 8px rgba(0,0,0,.1);position:sticky;top:0;z-index:1000;}
    .logo-container{display:flex;align-items:center;gap:10px;cursor:pointer;}
    .logo-container img{height:45px;}
    .logo-text{font-size:15px;color:#555;font-weight:500;}
    form{max-width:600px;margin:40px auto;background:#fff;padding:30px;border-radius:10px;
         box-shadow:0 2px 10px rgba(0,0,0,.05);}
    h2{text-align:center;color:#008b6a;margin-bottom:25px;}
    label{display:block;font-weight:600;margin-top:10px;margin-bottom:6px;}
    input,textarea,select{width:100%;padding:10px;border:1px solid #ccc;border-radius:6px;font-size:14px;}
    textarea{resize:vertical;min-height:90px;}
    .radio-group{display:flex;gap:15px;margin-top:10px;}
    button{background:#008b6a;color:#fff;border:none;padding:12px 18px;border-radius:6px;
           cursor:pointer;font-weight:600;margin-top:20px;width:100%;transition:.3s;}
    button:hover{background:#006b52;}
    .success-msg{display:none;color:#008b6a;text-align:center;margin-top:15px;font-weight:600;}

.type-section {
  text-align: center;
  margin: 20px 0;
}

.type-section label {
  font-weight: 600;
  font-size: 15px;
  color: #222;
}

.type-options {
  display: flex;
  justify-content: center;
  gap: 15px;
  margin-top: 10px;
}

.type-options input[type="radio"] {
  display: none;
}

.type-options .type-btn {
  background: #f4f4f4;
  color: #333;
  border: 2px solid #008b6a;
  border-radius: 25px;
  padding: 10px 25px;
  font-weight: 600;
  cursor: pointer;
  transition: 0.25s;
}

.type-options input[type="radio"]:checked + .type-btn {
  background: #008b6a;
  color: #fff;
  box-shadow: 0 0 8px rgba(0,139,106,0.4);
}
.type-options .type-btn:hover {
  background: #e9f8f4;
}
    
  </style>
</head>

<body>
  <!-- âœ… HEADER (orijinal yapÄ±sÄ± korunur) -->
  <header>
    <div class="logo-container" onclick="location.href='index.html'">
      <img src="assets/logos.png" alt="Trader Route Logo">
      <span class="logo-text">The Silk Road of E-Commerce</span>
    </div>
  </header>

  <form id="requestForm">
    <h2>Create Trade Request</h2>

    <label for="title">Request Title</label>
    <input type="text" id="title" placeholder="Example: I want to buy banana" required>

    <label for="description">Description</label>
    <textarea id="description" placeholder="Describe your request..." minlength="10" required></textarea>

    <label for="category">Category</label>
    <select id="category" required>
      <option value="">Select Category</option>
      <option value="Food Industry">Food Industry</option>
      <option value="Agriculture Industry">Agriculture Industry</option>
      <option value="Automotive">Automotive</option>
      <option value="Fashion & Apparel">Fashion & Apparel</option>
      <option value="Construction & Building">Construction & Building</option>
      <option value="Medical & Pharmaceutical">Medical & Pharmaceutical</option>
    </select>

    <label for="country">Country</label>
    <select id="country" required>
      <option value="">Select Country</option>
      <option value="Turkey">Turkey</option>
      <option value="United States">United States</option>
      <option value="Germany">Germany</option>
      <option value="France">France</option>
      <option value="Italy">Italy</option>
      <option value="China">China</option>
      <option value="India">India</option>
      <option value="Brazil">Brazil</option>
    </select>

   <div class="type-section">
  <label>Request Type</label>
  <div class="type-options">
    <input type="radio" id="buy" name="type" value="buy">
    <label for="buy" class="type-btn">Buy Request</label>

    <input type="radio" id="sell" name="type" value="sell">
    <label for="sell" class="type-btn">Sell Offer</label>
  </div>
     
</div>
   <button type="submit">Submit Request</button>
    <div class="success-msg" id="successMsg">Your request has been created successfully!</div>
  </form>

  <script>
  const form = document.getElementById("requestForm");
  const successMsg = document.getElementById("successMsg");

  form.addEventListener("submit", function(e){
    e.preventDefault();

    const title = document.getElementById("title").value.trim();
    const description = document.getElementById("description").value.trim();
    const category = document.getElementById("category").value;
    const country = document.getElementById("country").value;
    const type = document.querySelector('input[name="type"]:checked').value;

    const currentUser = JSON.parse(localStorage.getItem("tr_user") || "null");
    const requests = JSON.parse(localStorage.getItem("requests") || "[]");

   const newRequest = {
  id: Date.now(),
  title,
  description,
  category,
  country,
  type,
  user: currentUser?.email || "Guest",
  date: new Date().toISOString(),
  approved: false // <<< YENÄ°: admin onayÄ± olmadan listelenmesin
};

    // âœ… Kaydet ve gÃ¼ncelle
    requests.push(newRequest);
    localStorage.setItem("requests", JSON.stringify(requests));

    // âœ… SayaÃ§larÄ± gÃ¼ncellemek iÃ§in tetikleme
    window.dispatchEvent(new Event("storage"));

    // âœ… BaÅŸarÄ±lÄ± mesaj ve yÃ¶nlendirme
    successMsg.style.display = "block";
    form.reset();

    setTimeout(()=>{
      successMsg.style.display = "none";
      location.href = "requests.html"; // yÃ¶nlendirme eklendi
    },1500);
  });
  </script>
  
 <script>
   document.addEventListener("DOMContentLoaded", function () {
  const categorySelect = document.getElementById("category");
  const countrySelect = document.getElementById("country");

  // ðŸ”¹ Kategoriler (tam sizin verdiÄŸiniz liste)
  const categories = [
    "Agriculture",
    "Apparel & Fashion",
    "Automobiles & Motorcycles",
    "Beauty & Personal Care",
    "Business Services",
    "Chemicals",
    "Computer Hardware & Software",
    "Construction & Real Estate",
    "Consumer Electronics",
    "Electrical Equipment & Supplies",
    "Energy",
    "Environment",
    "Food & Beverage",
    "Furniture",
    "Gifts & Crafts",
    "Hardware",
    "Health & Medical",
    "Home & Garden",
    "Industrial Machinery",
    "Jewelry & Watches",
    "Lights & Lighting",
    "Luggage, Bags & Cases",
    "Mechanical Parts & Fabrication",
    "Minerals & Metallurgy",
    "Office Supplies",
    "Packaging & Printing",
    "Security & Protection",
    "Service Equipment",
    "Sports & Entertainment",
    "Telecommunications",
    "Textiles & Leather Products",
    "Tools",
    "Toys & Hobbies",
    "Transportation",
    "Travel & Tourism",
    "Others"
  ];

  // ðŸ”¹ Ãœlkeler (tÃ¼m dÃ¼nya)
  const countries = [
    "Afghanistan","Albania","Algeria","Andorra","Angola","Antigua and Barbuda","Argentina","Armenia","Australia",
    "Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin",
    "Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi",
    "Cabo Verde","Cambodia","Cameroon","Canada","Central African Republic","Chad","Chile","China","Colombia",
    "Comoros","Congo (Brazzaville)","Congo (Kinshasa)","Costa Rica","Croatia","Cuba","Cyprus","Czech Republic",
    "Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea",
    "Eritrea","Estonia","Eswatini","Ethiopia","Fiji","Finland","France","Gabon","Gambia","Georgia","Germany",
    "Ghana","Greece","Grenada","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hungary",
    "Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan",
    "Kenya","Kiribati","Korea, North","Korea, South","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho",
    "Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Madagascar","Malawi","Malaysia","Maldives",
    "Mali","Malta","Marshall Islands","Mauritania","Mauritius","Mexico","Micronesia","Moldova","Monaco","Mongolia",
    "Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","New Zealand",
    "Nicaragua","Niger","Nigeria","North Macedonia","Norway","Oman","Pakistan","Palau","Panama","Papua New Guinea",
    "Paraguay","Peru","Philippines","Poland","Portugal","Qatar","Romania","Russia","Rwanda","Saint Kitts and Nevis",
    "Saint Lucia","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia",
    "Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia",
    "South Africa","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Sweden","Switzerland","Syria","Taiwan",
    "Tajikistan","Tanzania","Thailand","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan",
    "Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan",
    "Vanuatu","Vatican City","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe"
  ];

  // ðŸ”¸ Kategorileri ekle
  categories.forEach(cat => {
    const opt = document.createElement("option");
    opt.value = cat;
    opt.textContent = cat;
    categorySelect.appendChild(opt);
  });

  // ðŸ”¸ Ãœlkeleri ekle
  countries.forEach(cty => {
    const opt = document.createElement("option");
    opt.value = cty;
    opt.textContent = cty;
    countrySelect.appendChild(opt);
  });
});
</script>
  
</body>
</html>
