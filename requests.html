<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Trader Route | Requests</title>
<link rel="icon" href="assets/logos.png" type="image/png">
<style>
body { font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif; background:#f8f9fa; margin:0; }
header { background:#fff; padding:15px 40px; box-shadow:0 2px 8px rgba(0,0,0,0.1); display:flex; align-items:center; justify-content:space-between; }
.container { max-width:900px; margin:40px auto; background:#fff; padding:30px; border-radius:10px; }
.request-item { background:#f8f8f8; padding:15px; border-radius:8px; margin-bottom:15px; }
.request-item a { text-decoration:none; color:#008d62; font-weight:600; }
</style>
</head>
<body>

<header>
  <div class="logo-container">
    <a href="index.html"><img src="assets/logos.png" alt="Trader Route Logo" height="40"></a>
  </div>
</header>

<div class="container">
  <h2>All Requests</h2>
  <div id="requestsList"></div>
</div>

<script>
const allRequests = JSON.parse(localStorage.getItem('requests')) || [];
const list = document.getElementById('requestsList');
const filter = localStorage.getItem('filterType') || 'all';

let filtered = allRequests.filter(r => r.approved);
if (filter === 'buyer') filtered = filtered.filter(r => r.type === 'buyer');
if (filter === 'seller') filtered = filtered.filter(r => r.type === 'seller');

if (filtered.length === 0) {
  list.innerHTML = "<p>No requests available.</p>";
} else {
  list.innerHTML = filtered.map((r, index) => `
    <div class="request-item">
      <a href="request-detail.html?id=${index}">${r.title}</a>
      <p>${r.desc.slice(0,100)}...</p>
      <small>${r.category} | ${r.country} | ${r.date}</small>
    </div>
  `).join('');
}
</script>
</body>
</html>
